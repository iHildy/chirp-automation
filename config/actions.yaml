version: 1

actions:
  open_garage:
    description: "Open the garage door in Chirp"
    timeoutMs: 30000
    steps:
      - type: ensure_emulator_ready
      - type: wake_and_unlock
      - type: launch_app
        package: "com.chirp.app"
        activity: "com.chirp.app.MainActivity"
      - type: wait_for_selector
        selector:
          textContains: "Garage"
        timeoutMs: 10000
      - type: tap_selector
        selector:
          textContains: "Garage"
      - type: tap_selector
        selector:
          textContains: "Open"
      - type: wait_for_text
        textContains: "Opened"
        timeoutMs: 10000

  close_garage:
    description: "Close the garage door in Chirp"
    timeoutMs: 30000
    steps:
      - type: ensure_emulator_ready
      - type: wake_and_unlock
      - type: launch_app
        package: "com.chirp.app"
        activity: "com.chirp.app.MainActivity"
      - type: wait_for_selector
        selector:
          textContains: "Garage"
        timeoutMs: 10000
      - type: tap_selector
        selector:
          textContains: "Garage"
      - type: tap_selector
        selector:
          textContains: "Close"
      - type: wait_for_text
        textContains: "Closed"
        timeoutMs: 10000

  tap_coordinates_example:
    description: "Example using fallback coordinates"
    timeoutMs: 15000
    steps:
      - type: ensure_emulator_ready
      - type: wake_and_unlock
      - type: tap_coordinates
        x: 540
        y: 1680
      - type: sleep
        durationMs: 500
